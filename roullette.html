<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Advanced Roulette Simulator</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:Arial,sans-serif;background:linear-gradient(135deg,#1a472a 0%,#0d2818 100%);display:flex;flex-direction:column;align-items:center;padding:20px;min-height:100vh;color:#ffd700;}
.container{max-width:1200px;width:100%;}
h1{text-align:center;margin-bottom:20px;text-shadow:2px 2px 4px rgba(0,0,0,0.5);}
.wheel-container{position:relative;margin-bottom:30px;}
.wheel-outer{width:400px;height:400px;border-radius:50%;background:linear-gradient(145deg,#8b7355,#6b5839);padding:20px;box-shadow:0 10px 30px rgba(0,0,0,0.5);position:relative;overflow:hidden;}
.wheel{width:100%;height:100%;border-radius:50%;position:absolute;top:0;left:0;transition:transform 4s cubic-bezier(0.17,0.67,0.12,0.99);border:8px solid #ffd700;background:#2a2a2a;}
.wheel-center{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:60px;height:60px;border-radius:50%;background:radial-gradient(circle,#ffd700,#b8860b);box-shadow:0 0 20px rgba(255,215,0,0.5);z-index:10;}
.pointer{position:absolute;top:-15px;left:50%;transform:translateX(-50%);width:0;height:0;border-left:15px solid transparent;border-right:15px solid transparent;border-top:30px solid #ffd700;z-index:20;filter:drop-shadow(0 2px 4px rgba(0,0,0,0.5));}
.wheel-number{position:absolute;width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:bold;font-size:11px;color:white;transform-origin:center;}
.chip-selector{display:flex;justify-content:center;gap:15px;margin-bottom:20px;flex-wrap:wrap;}
.chip{width:60px;height:60px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:bold;cursor:pointer;border:4px solid #fff;box-shadow:0 4px 8px rgba(0,0,0,0.3);transition:all 0.2s;position:relative;}
.chip:hover{transform:scale(1.1);}
.chip.selected,.chip.glow{transform:scale(1.15);box-shadow:0 0 20px rgba(255,215,0,0.8);}
.chip.chip-1{background:radial-gradient(circle,#fff,#ddd);color:#c41e3a;}
.chip.chip-5{background:radial-gradient(circle,#e74c3c,#c0392b);color:#fff;}
.chip.chip-10{background:radial-gradient(circle,#3498db,#2980b9);color:#fff;}
.chip.chip-25{background:radial-gradient(circle,#2ecc71,#27ae60);color:#fff;}
.chip.chip-100{background:radial-gradient(circle,#000,#2c3e50);color:#ffd700;}
.chip.chip-500{background:radial-gradient(circle,#9b59b6,#8e44ad);color:#fff;}
.controls{text-align:center;margin-bottom:20px;}
button{background:linear-gradient(145deg,#ffd700,#b8860b);border:none;padding:15px 40px;font-size:18px;font-weight:bold;border-radius:50px;cursor:pointer;color:#1a472a;box-shadow:0 5px 15px rgba(0,0,0,0.3);transition:all 0.3s;margin:0 10px;}
button:hover{transform:translateY(-2px);box-shadow:0 7px 20px rgba(0,0,0,0.4);}
button:disabled{opacity:0.5;cursor:not-allowed;transform:none;}
.info{text-align:center;margin-bottom:20px;font-size:18px;}
.result{text-align:center;margin:20px 0;font-size:24px;min-height:40px;font-weight:bold;}
.betting-table{background:#0d5c2a;padding:20px;border-radius:10px;box-shadow:0 10px 30px rgba(0,0,0,0.5);border:3px solid #ffd700;}
.numbers-grid{display:grid;grid-template-columns:repeat(3,80px);grid-auto-rows:50px;gap:2px;margin-bottom:10px;}
.bet-cell{background:#1a472a;border:2px solid #ffd700;padding:5px;text-align:center;font-weight:bold;cursor:pointer;transition:all 0.2s;color:white;position:relative;display:flex;align-items:center;justify-content:center;}
.bet-cell:hover,.bet-cell.selected,.bet-cell.keyboard-selected{background:#2a5a3a;box-shadow:0 0 15px rgba(255,215,0,0.5);}
.bet-chip{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:bold;font-size:12px;border:3px solid #fff;box-shadow:0 3px 6px rgba(0,0,0,0.5);z-index:5;}
.stats{margin-top:20px;padding:15px;background:rgba(0,0,0,0.3);border-radius:10px;color:#ffd700;max-width:1200px;}
.stats h3{margin-bottom:10px;}
.history{display:flex;gap:5px;flex-wrap:wrap;}
.history-number{width:35px;height:35px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:bold;color:white;font-size:14px;}
.red{background:#c41e3a;}
.black{background:#000;}
.green{background:#0a6b2f;}
.outside-bets{display:flex;gap:5px;flex-wrap:wrap;margin-top:10px;}
.outside-bet{background:#1a472a;border:2px solid #ffd700;padding:15px;text-align:center;font-weight:bold;cursor:pointer;transition:all 0.2s;color:white;display:flex;align-items:center;justify-content:center;position:relative;}
.red.outside-bet{background:#c41e3a;}
.black.outside-bet{background:#000;}
</style>
</head>
<body>
<div class="container">
<h1>Advanced Roulette Simulator</h1>
<div class="wheel-container">
<div class="wheel-outer">
<div class="pointer"></div>
<div class="wheel" id="wheel"><div class="wheel-center"></div></div>
</div>
</div>
<div class="info">Balance: $<span id="balance">1000</span> | Total Bet: $<span id="totalBet">0</span></div>
<div class="chip-selector">
<div class="chip chip-1 selected" onclick="selectChip(1)">$1</div>
<div class="chip chip-5" onclick="selectChip(5)">$5</div>
<div class="chip chip-10" onclick="selectChip(10)">$10</div>
<div class="chip chip-25" onclick="selectChip(25)">$25</div>
<div class="chip chip-100" onclick="selectChip(100)">$100</div>
<div class="chip chip-500" onclick="selectChip(500)">$500</div>
</div>
<div class="controls">
<button id="spinBtn" onclick="spin()">SPIN</button>
<button onclick="clearBets()">Clear Bets</button>
<button onclick="resetGame()">Reset Game</button>
</div>
<div class="result" id="result"></div>
<div class="betting-table">
<div class="numbers-grid" id="numbersGrid"></div>
<div class="outside-bets" id="outsideBetsContainer"></div>
</div>
<div class="stats"><h3>Spin History</h3><div class="history" id="history"></div></div>
<div class="stats"><h3>Bet History</h3><div id="betHistory"></div></div>
<div class="stats"><h3>Advanced Stats</h3><div id="statsContent"></div></div>

<script>
const wheelNumbers=[0,32,15,19,4,21,2,25,17,34,6,27,13,36,11,30,8,23,10,5,24,16,33,1,20,14,31,9,22,18,29,7,28,12,35,3,26];
const redNumbers=[1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36];
let balance=1000,bets={},selectedChipValue=1,isSpinning=false,history=[],keyboardMode=false;
let totalSpent=0,totalWon=0,totalWins=0,totalLosses=0;

function getColor(n){return n===0?'green':redNumbers.includes(n)?'red':'black';}

function selectChip(v){
    selectedChipValue=v;
    document.querySelectorAll('.chip').forEach(c=>c.classList.remove('selected'));
    event.target.classList.add('selected');
}

function updateBalance(){
    document.getElementById('balance').textContent=balance;
    document.getElementById('totalBet').textContent=Object.values(bets).reduce((s,b)=>s+b.amount,0);
}

function placeBet(pos,type,element){
    if(isSpinning || balance<selectedChipValue) return;
    const key=pos+'-'+type;
    if(!bets[key]) bets[key]={position:pos,type:type,amount:0,element:element};
    bets[key].amount+=selectedChipValue;
    balance-=selectedChipValue;
    totalSpent+=selectedChipValue;
    updateBetDisplay(key);
    updateBalance();
    updateBetHistory();
}

function removeBet(key){
    if(!bets[key]) return;
    balance+=bets[key].amount;
    totalSpent-=bets[key].amount;
    bets[key].element.querySelector('.bet-chip')?.remove();
    delete bets[key];
    updateBalance();
    updateBetHistory();
}

function updateBetDisplay(key){
    const bet=bets[key];
    let chipDiv=bet.element.querySelector('.bet-chip');
    if(!chipDiv){
        chipDiv=document.createElement('div');
        chipDiv.className='bet-chip';
        bet.element.appendChild(chipDiv);
    }
    chipDiv.textContent='$'+bet.amount;
}

function updateBetHistory(){
    const h=document.getElementById('betHistory');
    h.innerHTML='';
    Object.values(bets).forEach(b=>{
        const d=document.createElement('div');
        d.textContent=`${b.position} (${b.type}): $${b.amount}`;
        h.appendChild(d);
    });
    updateStats();
}

function updateStats(){
    const winRatio=(totalWins+totalLosses)?((totalWins/(totalWins+totalLosses))*100).toFixed(1):0;
    const payoutRatio=totalSpent? (totalWon/totalSpent).toFixed(2):0;
    document.getElementById('statsContent').innerHTML=
        `Wins: ${totalWins}, Losses: ${totalLosses}, Total Spent: $${totalSpent}, Total Won: $${totalWon}, Win%: ${winRatio}%, Payout/Spent: ${payoutRatio}`;
}

function clearBets(){Object.keys(bets).forEach(k=>removeBet(k));}

function resetGame(){
    clearBets(); balance=1000; history=[]; totalSpent=0; totalWon=0; totalWins=0; totalLosses=0;
    updateHistory(); updateStats(); updateBalance(); document.getElementById('result').textContent='';
}

function checkWinningBets(result){
    let totalWin=0;
    Object.entries(bets).forEach(([key,bet])=>{
        let payout=0,isWin=false;
        switch(bet.type){
            case'straight':if(bet.position===result){isWin=true;payout=bet.amount*36;}break;
            case'column':
                const col1=[1,4,7,10,13,16,19,22,25,28,31,34];
                const col2=[2,5,8,11,14,17,20,23,26,29,32,35];
                const col3=[3,6,9,12,15,18,21,24,27,30,33,36];
                if((bet.position==='col1'&&col1.includes(result))||(bet.position==='col2'&&col2.includes(result))||(bet.position==='col3'&&col3.includes(result))){
                    isWin=true;payout=bet.amount*3;
                } break;
            case'dozen':
                if((bet.position==='1st12'&&result>=1&&result<=12)||(bet.position==='2nd12'&&result>=13&&result<=24)||(bet.position==='3rd12'&&result>=25&&result<=36)){
                    isWin=true;payout=bet.amount*3;
                } break;
            case'outside':
                if((bet.position==='red'&&redNumbers.includes(result))||
                   (bet.position==='black'&&!redNumbers.includes(result)&&result!==0)||
                   (bet.position==='even'&&result!==0&&result%2===0)||
                   (bet.position==='odd'&&result%2===1)||
                   (bet.position==='1-18'&&result>=1&&result<=18)||
                   (bet.position==='19-36'&&result>=19&&result<=36)){isWin=true;payout=bet.amount*2;}
                break;
        }
        if(isWin){balance+=payout; totalWon+=payout;}
    });
}

function spin(){
    if(isSpinning || Object.values(bets).reduce((s,b)=>s+b.amount,0)===0){alert('Place a bet first!'); return;}
    isSpinning=true; document.getElementById('spinBtn').disabled=true;
    document.getElementById('result').textContent='Spinning...';
    const wheel=document.getElementById('wheel');
    const result=wheelNumbers[Math.floor(Math.random()*wheelNumbers.length)];
    const idx=wheelNumbers.indexOf(result);
    const deg=360*5+(360-(idx*(360/wheelNumbers.length)));
    wheel.style.transform=`rotate(${deg}deg)`;
    setTimeout(()=>{
        document.getElementById('result').textContent=`Result: ${result} (${getColor(result)})`;
        checkWinningBets(result);
        history.unshift({number:result,color:getColor(result)});
        if(history.length>20) history.pop();
        updateHistory();
        clearBets();
        updateBalance();
        updateStats();
        isSpinning=false; document.getElementById('spinBtn').disabled=false;
    },4000);
}

function updateHistory(){
    const h=document.getElementById('history');
    h.innerHTML='';
    history.forEach(i=>{
        const d=document.createElement('div');
        d.className='history-number';
        d.textContent=i.number;
        d.style.background=i.color==='green'?'#0a6b2f':i.color==='red'?'#c41e3a':'#000';
        h.appendChild(d);
    });
}

function createWheel(){
    const wheel=document.getElementById('wheel');
    const total=wheelNumbers.length;
    wheelNumbers.forEach((n,i)=>{
        const d=document.createElement('div');
        d.className='wheel-number';
        d.textContent=n;
        d.style.background=getColor(n);
        const angle=(360/total)*i; const r=150;
        d.style.left=`calc(50% + ${r*Math.cos((angle-90)*Math.PI/180)}px)`;
        d.style.top=`calc(50% + ${r*Math.sin((angle-90)*Math.PI/180)}px)`;
        d.style.transform=`translate(-50%,-50%) rotate(${angle}deg)`;
        wheel.appendChild(d);
    });
}

function createGrid(){
    const grid=document.getElementById('numbersGrid');
    grid.innerHTML='';
    const numbers=[[0,'green'],[1,'red'],[2,'black'],[3,'red'],[4,'black'],[5,'red'],[6,'black'],
                   [7,'red'],[8,'black'],[9,'red'],[10,'black'],[11,'black'],[12,'red'],
                   [13,'black'],[14,'red'],[15,'black'],[16,'red'],[17,'black'],[18,'red'],
                   [19,'red'],[20,'black'],[21,'red'],[22,'black'],[23,'red'],[24,'black'],
                   [25,'red'],[26,'black'],[27,'red'],[28,'red'],[29,'black'],[30,'red'],
                   [31,'black'],[32,'red'],[33,'black'],[34,'red'],[35,'black'],[36,'red']];
    numbers.forEach(([n,color])=>{
        const cell=document.createElement('div');
        cell.className='bet-cell '+color;
        cell.textContent=n;
        cell.dataset.number=n;
        cell.dataset.type='straight';
        cell.onclick=()=>placeBet(n,'straight',cell);
        cell.oncontextmenu=e=>{e.preventDefault();removeBet(n+'-straight');};
        grid.appendChild(cell);
    });
}

function createOutsideBets(){
    const container=document.getElementById('outsideBetsContainer');
    container.innerHTML='';
    const betsArr=[['1-18','outside'],['even','outside'],['red','outside'],['black','outside'],['odd','outside'],['19-36','outside'],['1st12','dozen'],['2nd12','dozen'],['3rd12','dozen']];
    betsArr.forEach(([name,type])=>{
        const cell=document.createElement('div');
        cell.className='outside-bet '+(name==='red'?'red':name==='black'?'black':'');
        cell.textContent=name;
        cell.dataset.type=type;
        cell.dataset.number=name;
        cell.onclick=()=>placeBet(name,type,cell);
        cell.oncontextmenu=e=>{e.preventDefault();removeBet(name+'-'+type);};
        container.appendChild(cell);
    });
}

createWheel();
createGrid();
createOutsideBets();
updateBalance();
</script>
</body>
</html>
